<ion-content>
  <div class="header">
    <ion-toolbar class="toolbar">
      <ion-buttons slot="start">
        <ion-back-button class="toolbar__btn" mode="md" defaultHref="/" (click)="onExit()"></ion-back-button>
      </ion-buttons>
    </ion-toolbar>
    <img class="toolbar__img" src="../../../../assets/img/bakery/bakery-logo.jpg">
  </div>
  <div class="info">
    <div class="info-main">
      <div class="container">
        <div class="row">
          <div>
            <h3 class="info__title">{{ 'general.bakery' | translate }} Wiebusch</h3>
            <p class="info__text">Bielefelder Str. 21, Knetterheide</p>
          </div>
          <ion-icon class="info__icon" src="../../../../assets/icons/bakery/info.svg" (click)="onInfo()"
                    tappable></ion-icon>
        </div>
        <div class="info__rate rate">
          <img class="rate__img" src="../../../../assets/img/bakery/stars4.jpg">
          <span class="info__text">4,1 /5 (15)</span>
        </div>
        <p class="info__description description">
          {{bakeryInfo}}
          <span class="description__continue" *ngIf="bakeryInfoTrim !== bakeryInfoFull && !isBakeryInfoFull"
                (click)="toggleBakeryInfo()" tappable>Continue</span>
          <span class="description__continue" *ngIf="bakeryInfoTrim !== bakeryInfoFull && isBakeryInfoFull"
                (click)="toggleBakeryInfo()" tappable>Turn</span>
        </p>
      </div>
    </div>
    <div class="info-details" *ngIf="infoDetails">
      <div class="container">
        <div class="info-details__icons-row">
          <ion-icon class="info-details__icons-row-icon" *ngFor="let icon of iconsRow" [src]="icon"></ion-icon>
        </div>
        <div class="open-hours">
          <div class="open-hours__row">
            <ion-icon class="open-hours__icon" src="../../../../assets/icons/bakery/calendar&clock.svg"></ion-icon>
            <p>{{ 'bakery.openHour' | translate }}</p>
          </div>
          <div class="open-hours__list list">
            <div class="list__item" *ngFor="let item of openingHours">
              <span>{{item.day}}</span>
              <span>{{item.time}}</span>
            </div>
          </div>
        </div>
      </div>
      <div class="pick-up-place">
        <p class="pick-up-place__title">{{ 'bakery.pickUpHere' | translate }}</p>
        <p class="pick-up-place__text">Bielefelder Str. 21, Knetterheide</p>
      </div>
      <div class="reminder">
        <p class="reminder__title">{{ 'bakery.reminderTitle' | translate }}</p>
        <p class="reminder__txt">{{ 'bakery.reminderTxt' | translate }}</p>
      </div>
    </div>
  </div>
  <div class="products" *ngIf="!infoDetails">
    <div class="sections">
      <div class="sections__item" *ngFor="let section of sections, let i = index"
           (click)="onSectionSelect(i)" [class.sections__item_selected]="selected[i]" tappable>{{section}}</div>
    </div>
    <div class="product-list">
      <div class="container">
        <div class="product" *ngFor="let product of productsList" (click)="presentProductDetailsModal()">
          <div class="col-left">
            <ion-img class="product__img" [src]="product.img"></ion-img>
            <ion-img class="product__img-corner" *ngIf="product.imgCorner" [src]="product.imgCorner"></ion-img>
          </div>
          <div class="col-center">
            <p class="product__name">{{product.name}}</p>
            <p class="product__details-title">Details</p>
            <p class="product__details-text">{{product.details}}</p>
          </div>
          <div class="col">
            <p class="product__price">{{product.price | currency:'EUR':'symbol'}}</p>
            <div class="product__count count">
              <div class="count__btn" (click)="removeProductFromCart(product, $event)" tappable>-</div>
              <div class="count__value">{{getProductCount(product.id)}}</div>
              <div class="count__btn" (click)="addProductToCart(product, $event)" tappable>+</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="cart" *ngIf="cartService.cart.length > 0" tappable [routerLink]="'/bakery-search/bakery/shopping-cart'">
    <div class="cart__icon-wrapper">
      <ion-icon class="cart__icon" src="../../../../assets/icons/shopping-cart/shopping-bag.svg"></ion-icon>
      <ion-badge class="cart__icon-badge">{{cartService.getTotalCount()}}</ion-badge>
    </div>
    <p class="cart__text">
      Shopping cart ({{cartService.getTotalPrice() | currency:'EUR':'symbol'}})</p>
  </div>
</ion-content>
