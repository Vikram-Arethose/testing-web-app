<ion-header>
  <ion-toolbar mode="ios" class="toolbar">
    <ion-buttons slot="start">
      <ion-back-button class="toolbar__button"
                       [icon]="'close-outline'" mode="md" defaultHref="/bakery-search/bakery"></ion-back-button>
    </ion-buttons>
    <h1 class="toolbar__title ion-text-left">{{ 'shoppingCart.header' | translate }}</h1>
  </ion-toolbar>
</ion-header>


<ion-content>

  <div class="shopping-cart">
    <div class="date">
      <h2 class="date__title">{{ 'shoppingCart.pickUp' | translate }}:
        <span class="date__title_purple">{{ date$ | async | date:'dd.MM.yy, HH:mm'}}</span></h2>
      <ion-button fill="none" size="small" (click)="presentVerifyDateModal()">
        <ion-icon class="date__btn-icon" src="../../../../../assets/icons/shopping-cart/pen.svg"></ion-icon>
      </ion-button>
    </div>
    <div class="product-list">
      <ion-grid class="grid">
        <div class="item" *ngFor="let item of cartService.getCart(), let i = index">
          <ion-row class="grid__row">
            <ion-col class="grid__col" size="1">{{i + 1}}</ion-col>
            <ion-col class="grid__col" size="8">{{item.count}} x {{item.name}}</ion-col>
            <ion-col class="grid__col">{{item.price | currency:'EUR':'symbol'}}</ion-col>
          </ion-row>
          <ion-row class="grid__row controls">
            <ion-button fill="none" size="small" (click)="delete(i)">
              <ion-icon class="controls__remove-icon" src="../../../../../assets/icons/shopping-cart/trash.svg"></ion-icon>
            </ion-button>
            <div class="controls__btn" (click)="reduce(item)">-</div>
            <div class="controls__btn" (click)="add(item)">+</div>
          </ion-row>
        </div>
        <ion-row class="grid__row grid__row_total">
            <ion-col class="grid__col" size="1"></ion-col>
            <ion-col class="grid__col" size="6">{{ 'orders.total' | translate }}</ion-col>
            <ion-col class="grid__col">
              {{cartService.getTotalPrice() | currency:'EUR':'symbol'}}</ion-col>
          </ion-row>
      </ion-grid>
    </div>
    <div class="buttons-wrapper">
      <ion-button class="buttons-wrapper__btn" expand="block"
                  [routerLink]="'/bakery-search/bakery'"
                  routerDirection="back">{{ 'shoppingCart.addMore' | translate }}</ion-button>
      <ion-button class="buttons-wrapper__btn" expand="block" (click)="presentPaymentMethodsModal()">
        {{ 'shoppingCart.checkout' | translate }}
        ({{cartService.getTotalPrice() | currency:'EUR':'symbol'}})</ion-button>
    </div>
  </div>

</ion-content>
