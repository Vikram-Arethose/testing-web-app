{"version":3,"file":"src_app_pages_bakery-search_bakery-search_module_ts.js","mappings":"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","sources":["./src/app/pages/bakery-search/bakery-search-routing.module.ts","./src/app/pages/bakery-search/bakery-search.module.ts","./src/app/pages/bakery-search/bakery-search.page.ts","./src/app/pages/bakery-search/bakery-search.page.scss"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { BakerySearchPage } from './bakery-search.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: BakerySearchPage\r\n  },\r\n  {\r\n    path: 'location-options',\r\n    loadChildren: () => import('./location-options/location-options.module').then( m => m.LocationOptionsPageModule)\r\n  },\r\n  {\r\n    path: 'bakery',\r\n    loadChildren: () => import('./bakery/bakery.module').then( m => m.BakeryPageModule)\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class BakerySearchPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { BakerySearchPageRoutingModule } from './bakery-search-routing.module';\r\n\r\nimport { BakerySearchPage } from './bakery-search.page';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { ComponentsModule } from '../../components/components.module';\r\nimport { GoogleMapsModule } from '@angular/google-maps'\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    GoogleMapsModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    BakerySearchPageRoutingModule,\r\n    TranslateModule,\r\n    ComponentsModule,\r\n  ],\r\n  declarations: [\r\n    BakerySearchPage,\r\n  ]\r\n})\r\nexport class BakerySearchPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\nimport { LoggerService } from '../../services/logger.service';\r\nimport { GeolocationService } from '../../services/geolocation.service';\r\nimport { HomeBranch } from '../../models/http/homeBranch';\r\nimport { HttpService } from '../../services/http.service';\r\nimport { Observable } from 'rxjs';\r\nimport { Router } from '@angular/router';\r\nimport { Location } from '../../models/location';\r\nimport { BakeryService } from '../../services/bakery.service';\r\nimport { PushService } from '../../services/push.service';\r\n\r\n@Component({\r\n  selector: 'app-bakery-search',\r\n  templateUrl: './bakery-search.page.html',\r\n  styleUrls: ['./bakery-search.page.scss'],\r\n})\r\nexport class BakerySearchPage implements OnInit {\r\n\r\n  bakeries$: Observable<HomeBranch[]>;\r\n  currLocation: Observable<Location>;\r\n  iconHeartOutline = '../../../assets/icons/bakery/heart-outline.svg';\r\n  iconHeartFilled = '../../../assets/icons/bakery/heart-filled.svg';\r\n  lat: number;\r\n  lng: number;\r\n  myAddress: string;\r\n  today: string;\r\n\r\n  constructor(\r\n    public bakeryServ: BakeryService,\r\n    private logger: LoggerService,\r\n    private geolocationServ: GeolocationService,\r\n    private httpServ: HttpService,\r\n    private router: Router,\r\n    private pushServ: PushService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.geolocationServ.currLocation.subscribe(async (res: Location) => {\r\n      if (res.lat && res.lng) {\r\n        this.myAddress = res.address;\r\n        this.lat = res.lat;\r\n        this.lng = res.lng;\r\n      } else {\r\n        if (!await this.geolocationServ.getCurrentPosition()) {\r\n          await this.router.navigate(['bakery-search/location-options']);\r\n          return;\r\n        }\r\n      }\r\n      this.getBakeries();\r\n    });\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.getBakeries();\r\n  }\r\n\r\n  getBakeries() {\r\n    if (this.lat && this.lng) {\r\n      this.bakeries$ = this.httpServ.getHomeBranches(this.lat.toString(), this.lng.toString());\r\n    }\r\n  }\r\n\r\n  onFavorite(bakeryId: number, $event) {\r\n    this.httpServ.removeAddToFavorites(bakeryId).subscribe(() => this.getBakeries() );\r\n    $event.stopPropagation();\r\n  }\r\n\r\n   doRefresh(event) {\r\n     this.getBakeries();\r\n     event.target.complete();\r\n   }\r\n\r\n  openSuggestBakeryUrl() {\r\n    this.httpServ.getIab('https://broetchen.app/einen-baecker-empfehlen/');\r\n  }\r\n\r\n}\r\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".toolbar {\\n  padding: 1vh 0;\\n  --background: #FEDE00;\\n}\\n.toolbar__button {\\n  padding: 0 0 0 4vw;\\n  --color: #493735;\\n}\\n.toolbar__button::part(icon) {\\n  font-size: 40px;\\n}\\n.toolbar__link {\\n  padding: 0 8vw 0 0;\\n  font: normal normal 400 15px/19px Montserrat;\\n  --color: #493735;\\n  text-decoration: underline;\\n}\\n\\n.container {\\n  width: 306px;\\n  margin: 0 auto;\\n  padding: 4.43vh 0;\\n}\\n\\n.suggest-bakery {\\n  text-align: center;\\n}\\n.suggest-bakery__btn {\\n  margin: 5vh 0;\\n  --background: #FEDE00;\\n  --border-radius: 5px;\\n  font: normal normal 400 20px/24px Montserrat;\\n  color: #493735;\\n}\\n\\n.bakery-item {\\n  display: block;\\n  margin: 0 0 1.23vh;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/pages/bakery-search/bakery-search.page.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,cAAA;EACA,qBAAA;AACF;AAAE;EACE,kBAAA;EACA,gBAAA;AAEJ;AADI;EACE,eAAA;AAGN;AAAE;EACE,kBAAA;EACA,4CAAA;EACA,gBAAA;EACA,0BAAA;AAEJ;;AAEA;EACE,YAAA;EACA,cAAA;EACA,iBAAA;AACF;;AAEA;EACE,kBAAA;AACF;AACE;EACE,aAAA;EACA,qBAAA;EACA,oBAAA;EACA,4CAAA;EACA,cAAA;AACJ;;AAGA;EACE,cAAA;EACA,kBAAA;AAAF\",\"sourcesContent\":[\".toolbar {\\r\\n  padding: 1vh 0;\\r\\n  --background: #FEDE00;\\r\\n  &__button {\\r\\n    padding: 0 0 0 4vw;\\r\\n    --color: #493735;\\r\\n    &::part(icon) {\\r\\n      font-size: 40px;\\r\\n    }\\r\\n  }\\r\\n  &__link {\\r\\n    padding: 0 8vw 0 0;\\r\\n    font: normal normal 400 15px/19px Montserrat;\\r\\n    --color: #493735;\\r\\n    text-decoration: underline;\\r\\n  }\\r\\n}\\r\\n\\r\\n.container {\\r\\n  width: 306px;\\r\\n  margin: 0 auto;\\r\\n  padding: 4.43vh 0;\\r\\n}\\r\\n\\r\\n.suggest-bakery {\\r\\n  text-align: center;\\r\\n  &__text { }\\r\\n  &__btn {\\r\\n    margin: 5vh 0;\\r\\n    --background: #FEDE00;\\r\\n    --border-radius: 5px;\\r\\n    font: normal normal 400 20px/24px Montserrat;\\r\\n    color: #493735;\\r\\n  }\\r\\n}\\r\\n\\r\\n.bakery-item {\\r\\n  display: block;\\r\\n  margin: 0 0 1.23vh;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","RouterModule","BakerySearchPage","routes","path","component","loadChildren","then","m","LocationOptionsPageModule","BakeryPageModule","BakerySearchPageRoutingModule","imports","forChild","exports","CommonModule","FormsModule","IonicModule","TranslateModule","ComponentsModule","GoogleMapsModule","BakerySearchPageModule","declarations","Component","LoggerService","GeolocationService","HttpService","Router","BakeryService","PushService","constructor","bakeryServ","logger","geolocationServ","httpServ","router","pushServ","ngOnInit","currLocation","subscribe","res","lat","lng","myAddress","address","getCurrentPosition","navigate","getBakeries","ionViewWillEnter","bakeries$","getHomeBranches","toString","onFavorite","bakeryId","$event","removeAddToFavorites","stopPropagation","doRefresh","event","target","complete","openSuggestBakeryUrl","getIab","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}