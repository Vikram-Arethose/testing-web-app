{"version":3,"file":"src_app_pages_login_location-setting_location-setting_module_ts.js","mappings":"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","sources":["./src/app/pages/login/location-setting/location-setting-routing.module.ts","./src/app/pages/login/location-setting/location-setting.module.ts","./src/app/pages/login/location-setting/location-setting.page.ts","./src/app/pages/login/location-setting/location-setting.page.scss"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LocationSettingPage } from './location-setting.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LocationSettingPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class LocationSettingPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LocationSettingPageRoutingModule } from './location-setting-routing.module';\r\n\r\nimport { LocationSettingPage } from './location-setting.page';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { ComponentsModule } from '../../../components/components.module';\r\nimport { GoogleMapsModule} from '@angular/google-maps';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    LocationSettingPageRoutingModule,\r\n    TranslateModule,\r\n    ComponentsModule,\r\n    GoogleMapsModule,\r\n  ],\r\n  declarations: [LocationSettingPage]\r\n})\r\nexport class LocationSettingPageModule {}\r\n","import { Component, ElementRef, NgZone, OnInit, ViewChild } from '@angular/core';\r\n\r\nimport { GoogleMap, GoogleMapsModule } from '@angular/google-maps'\r\n\r\nimport { LoggerService } from '../../../services/logger.service';\r\nimport { GeolocationService } from '../../../services/geolocation.service';\r\nimport { BranchNear } from '../../../models/http/branchesNear';\r\nimport { HttpService } from '../../../services/http.service';\r\nimport { Observable, Subscription } from 'rxjs';\r\nimport { Location } from '../../../models/location';\r\n\r\n@Component({\r\n  selector: 'app-location-setting',\r\n  templateUrl: './location-setting.page.html',\r\n  styleUrls: ['./location-setting.page.scss']\r\n})\r\nexport class LocationSettingPage implements OnInit {\r\n\r\n  branchesNear$: Observable<BranchNear[]>;\r\n  useCurrLocation: boolean;\r\n  locationSearched: boolean;\r\n  location: string;\r\n  lat: number;\r\n  lng: number;\r\n  googleMapType = 'satellite';\r\n  showMap: boolean;\r\n  private subscription: Subscription;\r\n  @ViewChild(GoogleMap)\r\n  public map!: GoogleMap;\r\n  @ViewChild('search')\r\n  public searchElementRef: ElementRef;\r\n  options: google.maps.MapOptions = {\r\n    mapTypeId: 'hybrid',\r\n    zoomControl: false,\r\n    scrollwheel: false,\r\n    disableDoubleClickZoom: true,\r\n    maxZoom: 15,\r\n    minZoom: 8,\r\n  };\r\n  defaultPosition = {    \r\n    lat: 51.165691,\r\n    lng: 10.451526,\r\n};\r\n\r\n  constructor(  \r\n    private ngZone: NgZone,\r\n    private logger: LoggerService,\r\n    private geolocationServ: GeolocationService,\r\n    private httpServ: HttpService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.makeInit();\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.geolocationServ.findAddress(this.searchElementRef).then(() => {\r\n      this.getBranchesNear();\r\n      this.useCurrLocation = false;\r\n      this.locationSearched = true;\r\n    });\r\n  }\r\n\r\n  async makeInit() {\r\n    this.defaultPosition = this.geolocationServ.defaultLocation;\r\n\r\n    this.subscription = this.geolocationServ.currLocation.subscribe((res: Location) => {\r\n      this.lat = res.lat;\r\n      this.lng = res.lng;\r\n      this.logger.log('lat, lng', this.lat, this.lng);\r\n    });\r\n    if (await this.geolocationServ.getCurrentPosition()) {\r\n      this.useCurrLocation = true;\r\n    } else {\r\n      this.geolocationServ.changeLocation();\r\n    }\r\n    this.showMap = true;\r\n    this.getBranchesNear();\r\n  }\r\n\r\n  async onUseCurrLocation() {\r\n    await this.geolocationServ.getCurrentPosition();\r\n    if (this.lat && this.lng) {\r\n      this.useCurrLocation = true;\r\n      this.getBranchesNear();\r\n      this.resetSearchField();\r\n    }\r\n  }\r\n\r\n  getBranchesNear() {\r\n    if (this.lng && this.lat) {\r\n      this.branchesNear$ = this.httpServ.getBranchesNear(this.lat.toString(), this.lng.toString());\r\n    }\r\n  }\r\n\r\n  resetSearchField() {\r\n    this.searchElementRef.nativeElement.value = '';\r\n    this.locationSearched = false;\r\n  }\r\n\r\n  ionViewDidLeave() {\r\n    this.resetSearchField();\r\n    this.subscription.unsubscribe();\r\n    this.showMap = false;\r\n  }\r\n\r\n}\r\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".content {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.header__title {\\n  width: 290px;\\n  margin: 0 auto;\\n  padding: 3vh 0;\\n  text-align: center;\\n  font: normal normal 600 20px/24px Montserrat;\\n  color: #493735;\\n}\\n@media (max-height: 670px) {\\n  .header__title {\\n    padding: 1.5vh 0;\\n  }\\n}\\n\\n.btn-wrapper {\\n  width: 90vw;\\n  margin: 3vh auto;\\n}\\n@media (max-height: 670px) {\\n  .btn-wrapper {\\n    margin: 1vh auto;\\n  }\\n}\\n.btn-wrapper__btn {\\n  height: 50px;\\n  --border-radius: 20px;\\n  --background: #FEDE00;\\n  font: 5.33vw/24px Montserrat;\\n  --color: #493735;\\n}\\n\\n.item {\\n  --min-height: 50px;\\n  --border-radius: 20px;\\n  margin: 0 0 1.85vh;\\n  font: 4.27vw/19px Montserrat;\\n}\\n@media (max-height: 650px) {\\n  .item {\\n    margin: 0 0 0.5vh;\\n  }\\n}\\n.item__input {\\n  width: 100%;\\n  background: #F0F1F3;\\n  border: none;\\n  outline: none;\\n}\\n.item:nth-of-type(2) {\\n  --background: #F0F1F3;\\n  font-weight: 300;\\n}\\n.item__icon {\\n  font-size: 25px;\\n  color: #5C5B5B;\\n}\\n\\n.selected {\\n  --background: #dfdcdc;\\n}\\n\\n.map {\\n  width: 100%;\\n  height: 50vh;\\n  align-self: flex-end;\\n}\\n@media (max-device-height: 600px) {\\n  .map {\\n    height: 40vh;\\n  }\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/pages/login/location-setting/location-setting.page.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAA;EACA,sBAAA;AACF;;AAIE;EACE,YAAA;EACA,cAAA;EACA,cAAA;EACA,kBAAA;EACA,4CAAA;EACA,cAAA;AADJ;AAEI;EAPF;IAQI,gBAAA;EACJ;AACF;;AAGA;EACE,WAAA;EACA,gBAAA;AAAF;AACE;EAHF;IAII,gBAAA;EAEF;AACF;AAAE;EACE,YAAA;EACA,qBAAA;EACA,qBAAA;EACA,4BAAA;EACA,gBAAA;AAEJ;;AAGA;EACE,kBAAA;EACA,qBAAA;EACA,kBAAA;EACA,4BAAA;AAAF;AACE;EALF;IAMI,iBAAA;EAEF;AACF;AADE;EACE,WAAA;EACA,mBAAA;EACA,YAAA;EACA,aAAA;AAGJ;AADE;EACE,qBAAA;EACA,gBAAA;AAGJ;AAAE;EACE,eAAA;EACA,cAAA;AAEJ;;AAEA;EACE,qBAAA;AACF;;AAEA;EACE,WAAA;EACA,YAAA;EACA,oBAAA;AACF;AAAE;EAJF;IAKI,YAAA;EAGF;AACF\",\"sourcesContent\":[\".content {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n}\\r\\n\\r\\n.header {\\r\\n\\r\\n  &__title {\\r\\n    width: 290px;\\r\\n    margin: 0 auto;\\r\\n    padding: 3vh 0;\\r\\n    text-align: center;\\r\\n    font: normal normal 600 20px/24px Montserrat;\\r\\n    color: #493735;\\r\\n    @media (max-height: 670px) {\\r\\n      padding: 1.5vh 0;\\r\\n    }\\r\\n  }\\r\\n}\\r\\n\\r\\n.btn-wrapper {\\r\\n  width: 90vw;\\r\\n  margin: 3vh auto;\\r\\n  @media (max-height: 670px) {\\r\\n    margin: 1vh auto;\\r\\n  }\\r\\n\\r\\n  &__btn {\\r\\n    height: 50px;\\r\\n    --border-radius: 20px;\\r\\n    --background: #FEDE00;\\r\\n    font: 5.33vw/24px Montserrat;\\r\\n    --color: #493735;\\r\\n  }\\r\\n\\r\\n}\\r\\n\\r\\n.item {\\r\\n  --min-height: 50px;\\r\\n  --border-radius: 20px;\\r\\n  margin: 0 0 1.85vh;\\r\\n  font: 4.27vw/19px Montserrat;\\r\\n  @media (max-height: 650px) {\\r\\n    margin: 0 0 0.5vh;\\r\\n  }\\r\\n  &__input {\\r\\n    width: 100%;\\r\\n    background: #F0F1F3;\\r\\n    border: none;\\r\\n    outline: none;\\r\\n  }\\r\\n  &:nth-of-type(2) {\\r\\n    --background: #F0F1F3;\\r\\n    font-weight: 300;\\r\\n  }\\r\\n\\r\\n  &__icon {\\r\\n    font-size: 25px;\\r\\n    color: #5C5B5B;\\r\\n  }\\r\\n}\\r\\n\\r\\n.selected {\\r\\n  --background: #dfdcdc;\\r\\n}\\r\\n\\r\\n.map {\\r\\n  width: 100%;\\r\\n  height: 50vh;\\r\\n  align-self: flex-end;\\r\\n  @media (max-device-height: 600px) {\\r\\n    height: 40vh;\\r\\n  }\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","RouterModule","LocationSettingPage","routes","path","component","LocationSettingPageRoutingModule","imports","forChild","exports","CommonModule","FormsModule","IonicModule","TranslateModule","ComponentsModule","GoogleMapsModule","LocationSettingPageModule","declarations","Component","NgZone","ViewChild","GoogleMap","LoggerService","GeolocationService","HttpService","constructor","ngZone","logger","geolocationServ","httpServ","mapTypeId","zoomControl","scrollwheel","disableDoubleClickZoom","maxZoom","minZoom","lat","lng","ngOnInit","makeInit","ionViewDidEnter","findAddress","searchElementRef","then","getBranchesNear","useCurrLocation","locationSearched","defaultPosition","defaultLocation","subscription","currLocation","subscribe","res","log","getCurrentPosition","changeLocation","showMap","onUseCurrLocation","resetSearchField","branchesNear$","toString","nativeElement","value","ionViewDidLeave","unsubscribe","args","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}