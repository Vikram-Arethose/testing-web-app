{"version":3,"file":"src_app_pages_login_confirm-code_confirm-code_module_ts.js","mappings":"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","sources":["./src/app/pages/login/confirm-code/confirm-code-routing.module.ts","./src/app/pages/login/confirm-code/confirm-code.component.ts","./src/app/pages/login/confirm-code/confirm-code.module.ts","./src/app/pages/login/confirm-code/confirm-code.component.scss"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ConfirmCodeComponent } from './confirm-code.component';\r\n\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ConfirmCodeComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ConfirmCodeRoutingModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { Router } from '@angular/router';\r\nimport { AlertService } from '../../../services/alert.service';\r\nimport { HttpService } from '../../../services/http.service';\r\n\r\n@Component({\r\n  selector: 'app-confirm-code',\r\n  templateUrl: './confirm-code.component.html',\r\n  styleUrls: ['./confirm-code.component.scss'],\r\n})\r\nexport class ConfirmCodeComponent implements OnInit {\r\n  confirmCode = '';\r\n  activeButton = true;\r\n  newPasswordSend = false;\r\n  disabled = false;\r\n  timer = 60;\r\n  constructor(\r\n    public toast: AlertService,\r\n    private translate: TranslateService,\r\n    private router: Router,\r\n    private http: HttpService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.checkTimer();\r\n  }\r\n  getConfirmCode(value) {\r\n    this.confirmCode = value;\r\n    if (this.confirmCode.length < 6) {\r\n      this.activeButton = true;\r\n    }else {\r\n      this.activeButton = false;\r\n    }\r\n  }\r\n  sendCode() {\r\n    const message = this.translate.instant('emailRegister.successCode');\r\n    this.http.sendConfirmationCode(this.confirmCode).subscribe( res => {\r\n      this.newPasswordSend = false;\r\n      this.toast.presentToast(message);\r\n      localStorage.setItem('ConfirmStatusCode', this.newPasswordSend.toString());\r\n      setTimeout(() => {\r\n        this.router.navigate(['']);\r\n        localStorage.removeItem('changeDataEmail');\r\n      }, 2000);\r\n    }, err => {\r\n      this.confirmCode = '';\r\n    });\r\n  }\r\n  resendCode() {\r\n    const email = localStorage.getItem('changeDataEmail');\r\n    this.http.sendPassword(email, null, 1).subscribe( (res: any) => {\r\n      if (res.apiStatus === 'OK' &&  res.apiCode === 'SUCCESS') {\r\n        this.toast.presentToast('code resend');\r\n      }\r\n    }, err => {\r\n    });\r\n    this.disabledBtnFromSpam();\r\n  }\r\n  returnToStartPage() {\r\n    this.router.navigate(['']);\r\n    localStorage.setItem('ConfirmStatusCode', 'false');\r\n    localStorage.removeItem('changeDataEmail');\r\n  }\r\n  disabledBtnFromSpam() {\r\n    const timeStamp = new Date().getTime() + 60000;\r\n    localStorage.setItem('resendCode_timestamp', timeStamp.toString());\r\n    this.disabled = true;\r\n    this.checkTimer();\r\n  }\r\n  checkTimer() {\r\n    const timeStamp = localStorage.getItem('resendCode_timestamp');\r\n    if (timeStamp) {\r\n      const currentTime = new Date().getTime();\r\n      const diff = (+timeStamp - currentTime) / 1000;\r\n      if ( diff > 0) {\r\n        this.timer = Math.round(diff);\r\n        this.startTimer();\r\n      }else {\r\n        this.disabled = false;\r\n        localStorage.removeItem('resendCode_timestamp');\r\n      }\r\n    }else {\r\n      this.disabled = false;\r\n    }\r\n  }\r\n\r\n  startTimer() {\r\n   const timerToShow = setInterval(() => {\r\n   this.timer--;\r\n   if ( this.timer < 1) {\r\n       this.disabled = false;\r\n       clearInterval( timerToShow);\r\n       localStorage.removeItem('resendCode_timestamp');\r\n       this.timer = 60;\r\n     }\r\n   }, 1000);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { ConfirmCodeComponent } from './confirm-code.component';\r\nimport { ConfirmCodeRoutingModule } from './confirm-code-routing.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    ConfirmCodeRoutingModule\r\n  ],\r\n  declarations: [ConfirmCodeComponent]\r\n})\r\nexport class ConfirmCodeModule {}\r\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".code-container {\\n  width: 90%;\\n  margin: 16vh auto;\\n}\\n.code-container h2 {\\n  text-align: center;\\n  margin-bottom: 3vh;\\n}\\n\\n.top {\\n  width: 100%;\\n  height: 18px;\\n  background: #FEDE00;\\n}\\n\\n.arrow {\\n  position: absolute;\\n  top: 4vh;\\n  left: 5.6vw;\\n  font-size: 9vw;\\n  color: #FEDE00;\\n}\\n\\n.text {\\n  padding: 3vh 9vw 0;\\n  text-align: center;\\n  font: normal normal 600 25px/30px Montserrat;\\n  color: #493735;\\n}\\n\\n.button-wrapper {\\n  display: flex;\\n  justify-content: center;\\n}\\n.button-wrapper__btn {\\n  width: 74vw;\\n  height: 7.39vh;\\n  margin-top: 12vh;\\n  --background: #FEDE00;\\n  --border-radius: 5px;\\n  color: #493735;\\n  font: normal normal 700 22px/27px Montserrat;\\n  text-transform: capitalize;\\n}\\n.button-wrapper .hide {\\n  display: none;\\n}\\n\\n.forgot-password-btn, .timer-block {\\n  --background: transparent;\\n  width: 74vw;\\n  height: 7.39vh;\\n  margin: 2vh auto;\\n  --color: black;\\n  text-align: center;\\n}\\n\\n.forgot-password-btn {\\n  text-decoration: underline;\\n}\\n\\n.timer-block p {\\n  font-size: 2.4vh;\\n}\\n\\nion-item.ion-invalid.ion-touched {\\n  --border-color: var(--ion-color-danger);\\n}\\n\\n.forgot-password-btn {\\n  --background: transparent;\\n  width: 74vw;\\n  height: 7.39vh;\\n  margin: 2vh auto;\\n  --color: black;\\n  text-align: center;\\n  text-decoration: underline;\\n}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/pages/login/confirm-code/confirm-code.component.scss\"],\"names\":[],\"mappings\":\"AAAA;EACE,UAAA;EACA,iBAAA;AACF;AAAE;EACE,kBAAA;EACA,kBAAA;AAEJ;;AACA;EACE,WAAA;EACA,YAAA;EACA,mBAAA;AAEF;;AAAA;EACE,kBAAA;EACA,QAAA;EACA,WAAA;EACA,cAAA;EACA,cAAA;AAGF;;AAGA;EACE,kBAAA;EACA,kBAAA;EACA,4CAAA;EACA,cAAA;AAAF;;AAGA;EACE,aAAA;EACA,uBAAA;AAAF;AACE;EACE,WAAA;EACA,cAAA;EACA,gBAAA;EACA,qBAAA;EACA,oBAAA;EACA,cAAA;EACA,4CAAA;EACA,0BAAA;AACJ;AACE;EACE,aAAA;AACJ;;AAEA;EACE,yBAAA;EACA,WAAA;EACA,cAAA;EACA,gBAAA;EACA,cAAA;EACA,kBAAA;AACF;;AACA;EACE,0BAAA;AAEF;;AACE;EACE,gBAAA;AAEJ;;AAEA;EACE,uCAAA;AACF;;AACA;EACE,yBAAA;EACA,WAAA;EACA,cAAA;EACA,gBAAA;EACA,cAAA;EACA,kBAAA;EACA,0BAAA;AAEF\",\"sourcesContent\":[\".code-container {\\r\\n  width: 90%;\\r\\n  margin: 16vh auto;\\r\\n  h2 {\\r\\n    text-align: center;\\r\\n    margin-bottom: 3vh;\\r\\n  }\\r\\n}\\r\\n.top {\\r\\n  width: 100%;\\r\\n  height: 18px;\\r\\n  background: #FEDE00;\\r\\n}\\r\\n.arrow {\\r\\n  position: absolute;\\r\\n  top: 4vh;\\r\\n  left: 5.6vw;\\r\\n  font-size: 9vw;\\r\\n  color: #FEDE00;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n.text {\\r\\n  padding: 3vh 9vw 0;\\r\\n  text-align: center;\\r\\n  font: normal normal 600 25px/30px Montserrat;\\r\\n  color: #493735;\\r\\n}\\r\\n\\r\\n.button-wrapper {\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n  &__btn {\\r\\n    width: 74vw;\\r\\n    height: 7.39vh;\\r\\n    margin-top: 12vh;\\r\\n    --background: #FEDE00;\\r\\n    --border-radius: 5px;\\r\\n    color: #493735;\\r\\n    font: normal normal 700 22px/27px Montserrat;\\r\\n    text-transform: capitalize;\\r\\n  }\\r\\n  .hide {\\r\\n    display: none;\\r\\n  }\\r\\n}\\r\\n.forgot-password-btn, .timer-block {\\r\\n  --background: transparent;\\r\\n  width: 74vw;\\r\\n  height: 7.39vh;\\r\\n  margin: 2vh auto;\\r\\n  --color: black;\\r\\n  text-align: center;\\r\\n}\\r\\n.forgot-password-btn {\\r\\n  text-decoration: underline;\\r\\n}\\r\\n.timer-block {\\r\\n  p {\\r\\n    font-size: 2.4vh;\\r\\n  }\\r\\n}\\r\\n\\r\\nion-item.ion-invalid.ion-touched {\\r\\n  --border-color: var(--ion-color-danger);\\r\\n}\\r\\n.forgot-password-btn {\\r\\n  --background: transparent;\\r\\n  width: 74vw;\\r\\n  height: 7.39vh;\\r\\n  margin: 2vh auto;\\r\\n  --color: black;\\r\\n  text-align: center;\\r\\n  text-decoration: underline;\\r\\n\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","RouterModule","ConfirmCodeComponent","routes","path","component","ConfirmCodeRoutingModule","imports","forChild","exports","Component","TranslateService","Router","AlertService","HttpService","constructor","toast","translate","router","http","ngOnInit","checkTimer","getConfirmCode","value","confirmCode","length","activeButton","sendCode","message","instant","sendConfirmationCode","subscribe","res","newPasswordSend","presentToast","localStorage","setItem","toString","setTimeout","navigate","removeItem","err","resendCode","email","getItem","sendPassword","apiStatus","apiCode","disabledBtnFromSpam","returnToStartPage","timeStamp","Date","getTime","disabled","currentTime","diff","timer","Math","round","startTimer","timerToShow","setInterval","clearInterval","selector","template","CommonModule","FormsModule","IonicModule","TranslateModule","ConfirmCodeModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}